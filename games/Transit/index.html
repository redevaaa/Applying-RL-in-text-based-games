<!-- downloaded from: http://mirror.ifarchive.org/if-archive/games/competition2012/web/transit/Transit.html
 removed images, scrolling, visibility and opacity changes for faster simulation
 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
Jonah 2.2 is based on:

TiddlyWiki 1.2.39 by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Published under a BSD open source license

Copyright (c) Osmosoft Limited 2005

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the Osmosoft Limited nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/xhtml; charset=UTF-8">
<title>Jonah</title>
<script type="text/javascript">
function $(a){if(typeof a=="string"){return document.getElementById(a)}else{return a}}function clone(a){var b={};for(property in a){b[property]=a[property]}return b}function insertElement(a,d,f,c,e){var b=document.createElement(d);if(f){b.id=f}if(c){b.className=c}if(e){insertText(b,e)}if(a){a.appendChild(b)}return b}function insertText(a,b){return a.appendChild(document.createTextNode(b))}function removeChildren(a){while(a.hasChildNodes()){a.removeChild(a.firstChild)}}function setPageElement(c,b,a){if(place=$(c)){removeChildren(place);if(tale.has(b)){new Wikifier(place,tale.get(b).text)}else{new Wikifier(place,a)}}}function addStyle(b){if(document.createStyleSheet){document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&nbsp;<style>"+b+"</style>")}else{var a=document.createElement("style");a.type="text/css";a.appendChild(document.createTextNode(b));document.getElementsByTagName("head")[0].appendChild(a)}}function throwError(a,b){new Wikifier(a,"'' @@ "+b+" @@ ''")}Math.easeInOut=function(a){return(1-((Math.cos(a*Math.PI)+1)/2))};String.prototype.readMacroParams=function(){var c=new RegExp("(?:\\s*)(?:(?:\"([^\"]*)\")|(?:'([^']*)')|(?:\\[\\[([^\\]]*)\\]\\])|([^\"'\\s]\\S*))","mg");var b=[];do{var a=c.exec(this);if(a){if(a[1]){b.push(a[1])}else{if(a[2]){b.push(a[2])}else{if(a[3]){b.push(a[3])}else{if(a[4]){b.push(a[4])}}}}}}while(a);return b};String.prototype.readBracketedList=function(){var b="\\[\\[([^\\]]+)\\]\\]";var a="[^\\s$]+";var e="(?:"+b+")|("+a+")";var d=new RegExp(e,"mg");var f=[];do{var c=d.exec(this);if(c){if(c[1]){f.push(c[1])}else{if(c[2]){f.push(c[2])}}}}while(c);return(f)};String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};

// disable all fading, simply set new passage to visible:
function fade(f,c)
{
//    var h;
    f.style.visibility="visible";
//    var e=f.cloneNode(true);
//    var g=(c.fade=="in")?1:-1;
//    f.parentNode.replaceChild(e,f);
//    if(c.fade=="in"){h=0;e.style.visibility="visible"}else{h=1}b(e,h);
//    var a=window.setInterval(d,1);
//    function d(){h+=0.05*g;b(e,Math.easeInOut(h));if(((g==1)&&(h>=1))||((g==-1)&&(h<=0))){
//        always visible:
//        f.style.visibility=(c.fade=="in")?"visible":"visible";
//        e.parentNode.replaceChild(f,e);delete e;


//        window.clearInterval(a);

//        if(c.onComplete){c.onComplete()}}
//    }

//        function b(k,j){var l=Math.floor(j*100);k.style.zoom=1;k.style.filter="alpha(opacity="+l+")";

//    opacity changed to 1 here:
//    k.style.opacity=1
//}
}

function scrollWindowTo(e){
// disabled auto scrolling
//    var d=window.scrollY?window.scrollY:document.body.scrollTop;var g=k(e);var c=Math.abs(d-g);var b=0;var j=(d>g)?-1:1;var f=window.setInterval(h,25);function h(){b+=0.1;window.scrollTo(0,d+j*(c*Math.easeInOut(b)));if(b>=1){window.clearInterval(f)}}function k(o){var p=a(o);var q=p+o.offsetHeight;var l=window.scrollY?window.scrollY:document.body.scrollTop;var m=window.innerHeight?window.innerHeight:document.body.clientHeight;var n=l+m;if(p<l){return p}else{if(q>n){if(o.offsetHeight<m){return(p-(m-o.offsetHeight)+20)}else{return p}}else{return p}}}function a(l){var m=0;while(l.offsetParent){m+=l.offsetTop;l=l.offsetParent}return m}

}

function History(){this.history=[{passage:null,variables:{}}]}History.prototype.init=function(){if(!this.restore()){if(tale.has("StartPassages")){var b=tale.get("StartPassages").text.readBracketedList();for(var a=0;a<b.length;a++){this.display(b[a],null,"quietly")}}else{this.display("Start",null,"quietly")}}};History.prototype.close=function(b){var a=$("passage"+b.title);if(a){a.parentNode.removeChild(a)}};History.prototype.display=function(e,c,a){var b=c;while(b&&(b.className.indexOf("passage")==-1)){if(b.parentNode.className){b=b.parentNode}else{break}}if(el=$("passage"+e)){scrollWindowTo(el);return}var d=tale.get(e);this.history.unshift({passage:d,variables:clone(this.history[0].variables)});var f=d.render();if(a!="offscreen"){if(b){$("passages").insertBefore(f,b.nextSibling)}else{$("passages").appendChild(f)}if(a!="quietly"){scrollWindowTo(f);fade(f,{fade:"in"})}}if((a=="quietly")||(a=="offscreen")){f.style.visibility="visible"}return f};History.prototype.restart=function(){window.location.hash=""};History.prototype.save=function(c){var a="";for(var b=0;b<this.history.length;b++){if((this.history[b].passage)&&(this.history[b].passage.id)){a+=this.history[b].passage.id.toString(36)+".";if(this.history[b].passage.id==c.id){break}}}return"#"+a.substr(0,a.length-1)};History.prototype.restore=function(){try{if(window.location.hash==""){return false}var a=window.location.hash.replace("#","").split(".");var c=[];for(var b=a.length-1;b>=0;b--){var f=parseInt(a[b],36);if(!tale.has(f)){return false}c.unshift(this.display(f,null,"offscreen"))}$("passages").appendChild(c[0]);return true}catch(d){return false}};History.prototype.rewindTo=function(c){var b=this;fade($("passages"),{fade:"out",onComplete:a});function a(){while(b.history[0].passage.title!=c.title){b.close(b.history.shift().passage)}b.history[0].variables=clone(b.history[1].variables);c.reset();var e=$("passage"+c.title).childNodes;for(var d=0;d<e.length;d++){if(e[d].className=="body"){removeChildren(e[d]);new Wikifier(e[d],c.text)}}fade($("passages"),{fade:"in"})}};var version={major:2,minor:0,revision:0,date:new Date("July 30, 2007"),extensions:{}};var tale,state;var macros={};function main(){tale=new Tale();setPageElement("storyMenu","StoryMenu","");setPageElement("storyTitle","StoryTitle","Untitled Story");setPageElement("storySubtitle","StorySubtitle","");setPageElement("storyAuthor","StoryAuthor","");if(tale.has("StoryTitle")){document.title=tale.get("StoryTitle").text;if(tale.has("StorySubtitle")){document.title+=": "+tale.get("StorySubtitle").text}}for(macro in macros){if(typeof macro.init=="function"){macro.init()}}var styles=tale.lookup("tags","stylesheet");for(var i=0;i<styles.length;i++){addStyle(styles[i].text)}var scripts=tale.lookup("tags","script");for(var i=0;i<scripts.length;i++){try{eval(scripts[i].text)}catch(e){alert("There is a technical problem with this story ("+scripts[i].title+": "+e.message+"). You may be able to continue reading, but all parts of the story may not work properly.")}}state=new History();state.init()}version.extensions.choiceMacro={major:1,minor:2,revision:0};macros.choice={handler:function(a,c,d){var b=document.createElement("a");b.href="javascript:void(0)";b.className="internalLink choice";if(d[1]){b.innerHTML=d[1]}else{b.innerHTML=d[0]}b.onclick=function(){macros.choice.activate(b,d[0])};a.appendChild(b)},activate:function(e,a){var h=e.parentNode;while(h.className.indexOf("body")==-1){h=h.parentNode}var g=h.parentNode.id.substr(7);var b=h.getElementsByTagName("a");var f=[];for(var c=0;c<b.length;c++){if((b[c]!=e)&&(b[c].className.indexOf("choice")!=-1)){var d=document.createElement("span");d.innerHTML=b[c].innerHTML;d.className="disabled";b[c].parentNode.insertBefore(d,b[c].nextSibling);f.push(b[c])}}for(var c=0;c<f.length;c++){f[c].parentNode.removeChild(f[c])}tale.get(g).text="<html>"+h.childNodes[0].innerHTML+"</html>";state.display(a,e)}};version.extensions.displayMacro={major:1,minor:0,revision:0};macros.display={handler:function(a,b,c){new Wikifier(a,tale.get(c[0]).text)}};version.extensions.actionsMacro={major:1,minor:2,revision:0};macros.actions={handler:function(a,f,g){var e=insertElement(a,"ul");if(!state.history[0].variables["actions clicked"]){state.history[0].variables["actions clicked"]={}}for(var b=0;b<g.length;b++){if(state.history[0].variables["actions clicked"][g[b]]){continue}var d=insertElement(e,"li");var c=Wikifier.createInternalLink(d,g[b]);insertText(c,g[b]);c.onclick=function(){state.history[0].variables["actions clicked"][this.id]=true;state.display(this.id,c)}}}};version.extensions.printMacro={major:1,minor:1,revision:0};macros.print={handler:function(place,macroName,params,parser){try{var output=eval(parser.fullArgs());if(output){new Wikifier(place,output.toString())}}catch(e){throwError(place,"bad expression: "+e.message)}}};version.extensions.setMacro={major:1,minor:1,revision:0};macros.set={handler:function(a,b,c,d){macros.set.run(d.fullArgs())},run:function(expression){try{return eval(Wikifier.parse(expression))}catch(e){throwError(place,"bad expression: "+e.message)}}};version.extensions.ifMacros={major:1,minor:0,revision:0};macros["if"]={handler:function(place,macroName,params,parser){var condition=parser.fullArgs();var srcOffset=parser.source.indexOf(">>",parser.matchStart)+2;var src=parser.source.slice(srcOffset);var endPos=-1;var trueClause="";var falseClause="";for(var i=0,nesting=1,currentClause=true;i<src.length;i++){if(src.substr(i,9)=="<<endif>>"){nesting--;if(nesting==0){endPos=srcOffset+i+9;break}}if((src.substr(i,8)=="<<else>>")&&(nesting==1)){currentClause="false";i+=8}if(src.substr(i,5)=="<<if "){nesting++}if(currentClause==true){trueClause+=src.charAt(i)}else{falseClause+=src.charAt(i)}}try{if(eval(condition)){new Wikifier(place,trueClause.trim())}else{new Wikifier(place,falseClause.trim())}if(endPos!=-1){parser.nextMatch=endPos}else{throwError(place,"can't find matching endif")}}catch(e){throwError(place,"bad condition: "+e.message)}}};macros["else"]=macros.endif={handler:function(){}};version.extensions.rememberMacro={major:1,minor:1,revision:0};macros.remember={handler:function(place,macroName,params,parser){var statement=parser.fullArgs();var expire=new Date();var variable,value;macros.set.run(statement);var variableSigil=Wikifier.parse("$");variableSigil=variableSigil.replace("[","\\[");variableSigil=variableSigil.replace("]","\\]");variable=statement.match(new RegExp(variableSigil+"(\\w+)","i"))[1];value=eval(Wikifier.parse("$"+variable));switch(typeof value){case"string":value='"'+value.replace(/"/g,'\\"')+'"';break;case"number":case"boolean":break;default:throwError(place,"can't remember $"+variable+" ("+(typeof value)+")");return}expire.setYear(expire.getFullYear()+1);document.cookie=macros.remember.prefix+variable+"="+value+"; expires="+expire.toGMTString()},init:function(){if(tale.has("StoryTitle")){macros.remember.prefix=tale.get("StoryTitle").text+"_"}else{macros.remember.prefix="__jonah_"}var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var bits=cookies[i].split("=");if(bits[0].trim().indexOf(this.prefix)==0){var statement=cookies[i].replace(this.prefix,"$");eval(Wikifier.parse(statement))}}}};version.extensions.SilentlyMacro={major:1,minor:0,revision:0};macros.silently={handler:function(g,e,f,b){var h=insertElement(null,"div");var k=b.source.indexOf(">>",b.matchStart)+2;var a=b.source.slice(k);var d=-1;var c="";for(var j=0;j<a.length;j++){if(a.substr(j,15)=="<<endsilently>>"){d=k+j+15}else{c+=a.charAt(j)}}if(d!=-1){new Wikifier(h,c);b.nextMatch=d}else{throwError(g,"can't find matching endsilently")}delete h}};macros.endsilently={handler:function(){}};function Passage(c,b,a){this.title=c;if(b){this.id=a;this.initialText=this.text=Passage.unescapeLineBreaks(b.firstChild?b.firstChild.nodeValue:"");this.tags=b.getAttribute("tags");if(typeof this.tags=="string"){this.tags=this.tags.readBracketedList()}else{this.tags=[]}}else{this.initialText=this.text="@@This passage does not exist.@@";this.tags=[]}}Passage.prototype.render=function(){var e=insertElement(null,"div","passage"+this.title,"passage");e.style.visibility="hidden";var f=insertElement(e,"div","","title",this.title);var d=insertElement(f,"span","","toolbar");for(var b=0;b<Passage.toolbarItems.length;b++){var c=insertElement(d,"a");insertText(c,Passage.toolbarItems[b].label(e));c.passage=this;if(Passage.toolbarItems[b].href){c.href=Passage.toolbarItems[b].href(e)}else{c.href="javascript:void(0)"}c.title=Passage.toolbarItems[b].tooltip(e);c.onclick=Passage.toolbarItems[b].activate}var a=insertElement(e,"div","","body");new Wikifier(a,this.text);

// don't change classes on mouseover
    e.onmouseover=function(){
//        e.className+=" selected"
    };
    e.onmouseout=function(){
//        e.className=e.className.replace(" selected","")
    };

    return e};


Passage.prototype.reset=function(){this.text=this.initialText};Passage.toolbarItems=[{label:function(){return"bookmark"},tooltip:function(){return"Bookmark this point in the story"},href:function(a){return(state.save(a))},activate:function(){}},{label:function(){return"rewind to here"},tooltip:function(){},activate:function(){state.rewindTo(this.passage)}}];Passage.unescapeLineBreaks=function(a){if(a&&a!=""){return a.replace(/\\n/mg,"\n").replace(/\\/mg,"\\").replace(/\r/mg,"")}else{return""}};function Tale(){this.passages={};if(document.normalize){document.normalize()}var a=$("storeArea").childNodes;for(var b=0;b<a.length;b++){var c=a[b];if(c.getAttribute&&(title=c.getAttribute("tiddler"))){this.passages[title]=new Passage(title,c,b)}}}Tale.prototype.has=function(a){if(typeof a=="string"){return(this.passages[a]!=null)}else{for(i in this.passages){if(this.passages[i].id==a){return true}}return false}};Tale.prototype.get=function(a){if(typeof a=="string"){return this.passages[a]||new Passage(a)}else{for(i in this.passages){if(this.passages[i].id==a){return this.passages[i]}}}};Tale.prototype.lookup=function(h,g,a){var d=[];for(var c in this.passages){var f=this.passages[c];var e=false;for(var b=0;b<f[h].length;b++){if(f[h][b]==g){d.push(f)}}}if(!a){a="title"}d.sort(function(k,j){if(k[a]==j[a]){return(0)}else{return(k[a]<j[a])?-1:+1}});return d};Tale.prototype.reset=function(){for(i in this.passages){this.passages[i].reset()}};function Wikifier(a,b){this.source=b;this.output=a;this.nextMatch=0;this.assembleFormatterMatches(Wikifier.formatters);this.subWikify(this.output)}Wikifier.prototype.assembleFormatterMatches=function(a){this.formatters=[];var b=[];for(var c=0;c<a.length;c++){b.push("("+a[c].match+")");this.formatters.push(a[c])}this.formatterRegExp=new RegExp(b.join("|"),"mg")};Wikifier.prototype.subWikify=function(c,b){var a=this.output;this.output=c;var f=b?new RegExp("("+b+")","mg"):null;do{this.formatterRegExp.lastIndex=this.nextMatch;if(f){f.lastIndex=this.nextMatch}var g=this.formatterRegExp.exec(this.source);var e=f?f.exec(this.source):null;if(e&&(!g||e.index<=g.index)){if(e.index>this.nextMatch){this.outputText(this.output,this.nextMatch,e.index)}this.matchStart=e.index;this.matchLength=e[1].length;this.matchText=e[1];this.nextMatch=e.index+e[1].length;this.output=a;return}else{if(g){if(g.index>this.nextMatch){this.outputText(this.output,this.nextMatch,g.index)}this.matchStart=g.index;this.matchLength=g[0].length;this.matchText=g[0];this.nextMatch=this.formatterRegExp.lastIndex;var h=-1;for(var d=1;d<g.length;d++){if(g[d]){matchingFormatter=d-1}}if(matchingFormatter!=-1){this.formatters[matchingFormatter].handler(this)}}}}while(e||g);if(this.nextMatch<this.source.length){this.outputText(this.output,this.nextMatch,this.source.length);this.nextMatch=this.source.length}this.output=a};Wikifier.prototype.outputText=function(a,c,b){insertText(a,this.source.substring(c,b))};Wikifier.prototype.fullArgs=function(){var b=this.source.indexOf(" ",this.matchStart);var a=this.source.indexOf(">>",this.matchStart);return Wikifier.parse(this.source.slice(b,a))};Wikifier.parse=function(b){var a=b.replace(/\$/g,"state.history[0].variables.");a=a.replace(/\beq\b/gi," == ");a=a.replace(/\bneq\b/gi," != ");a=a.replace(/\bgt\b/gi," > ");a=a.replace(/\beq\b/gi," == ");a=a.replace(/\bneq\b/gi," != ");a=a.replace(/\bgt\b/gi," > ");a=a.replace(/\bgte\b/gi," >= ");a=a.replace(/\blt\b/gi," < ");a=a.replace(/\blte\b/gi," <= ");a=a.replace(/\band\b/gi," && ");a=a.replace(/\bor\b/gi," || ");a=a.replace(/\bnot\b/gi," ! ");return a};Wikifier.formatHelpers={charFormatHelper:function(a){var b=insertElement(a.output,this.element);a.subWikify(b,this.terminator)},inlineCssHelper:function(f){var h=[];var a="(?:("+Wikifier.textPrimitives.anyLetter+"+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:("+Wikifier.textPrimitives.anyLetter+"+):([^;\\|\\n]+);)";var b=new RegExp(a,"mg");var c=false;do{b.lastIndex=f.nextMatch;var d=b.exec(f.source);var e=d&&d.index==f.nextMatch;if(e){var j,g;c=true;if(d[1]){j=d[1].unDash();g=d[2]}else{j=d[3].unDash();g=d[4]}switch(j){case"bgcolor":j="backgroundColor";break}h.push({style:j,value:g});f.nextMatch=d.index+d[0].length}}while(e);return h},monospacedByLineHelper:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart){var f=c[1];if(navigator.userAgent.indexOf("msie")!=-1&&navigator.userAgent.indexOf("opera")==-1){f=f.replace(/\n/g,"\r")}var d=insertElement(a.output,"pre",null,null,f);a.nextMatch=c.index+c[0].length}}};Wikifier.formatters=[{name:"table",match:"^\\|(?:[^\\n]*)\\|(?:[fhc]?)$",lookahead:"^\\|([^\\n]*)\\|([fhc]?)$",rowTerminator:"\\|(?:[fhc]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[fhc]?$\\n?)",cellTerminator:"(?:\\x20*)\\|",rowTypes:{c:"caption",h:"thead","":"tbody",f:"tfoot"},handler:function(h){var k=insertElement(h.output,"table");h.nextMatch=h.matchStart;var c=new RegExp(this.lookahead,"mg");var d=null,a;var l,e;var j=[];var g=0;do{c.lastIndex=h.nextMatch;var f=c.exec(h.source);var b=f&&f.index==h.nextMatch;if(b){a=f[2];if(a!=d){l=insertElement(k,this.rowTypes[a])}d=a;if(d=="c"){if(g==0){l.setAttribute("align","top")}else{l.setAttribute("align","bottom")}h.nextMatch=h.nextMatch+1;h.subWikify(l,this.rowTerminator)}else{e=insertElement(l,"tr");this.rowHandler(h,e,j)}g++}}while(b)},rowHandler:function(h,d,m){var a=0;var k=1;var c=new RegExp(this.cellPattern,"mg");do{c.lastIndex=h.nextMatch;var f=c.exec(h.source);matched=f&&f.index==h.nextMatch;if(matched){if(f[1]=="~"){var l=m[a];if(l){l.rowCount++;l.element.setAttribute("rowSpan",l.rowCount);l.element.setAttribute("rowspan",l.rowCount);l.element.valign="center"}h.nextMatch=f.index+f[0].length-1}else{if(f[1]==">"){k++;h.nextMatch=f.index+f[0].length-1}else{if(f[2]){h.nextMatch=f.index+f[0].length;break}else{var b=false,g=false;h.nextMatch++;var o=Wikifier.formatHelpers.inlineCssHelper(h);while(h.source.substr(h.nextMatch,1)==" "){b=true;h.nextMatch++}var j;if(h.source.substr(h.nextMatch,1)=="!"){j=insertElement(d,"th");h.nextMatch++}else{j=insertElement(d,"td")}m[a]={rowCount:1,element:j};lastColCount=1;lastColElement=j;if(k>1){j.setAttribute("colSpan",k);j.setAttribute("colspan",k);k=1}for(var n=0;n<o.length;n++){j.style[o[n].style]=o[n].value}h.subWikify(j,this.cellTerminator);if(h.matchText.substr(h.matchText.length-2,1)==" "){g=true}if(b&&g){j.align="center"}else{if(b){j.align="right"}else{if(g){j.align="left"}}}h.nextMatch=h.nextMatch-1}}}a++}}while(matched)}},{name:"rule",match:"^----$\\n?",handler:function(a){insertElement(a.output,"hr")}},{name:"emdash",match:"--",handler:function(a){var b=insertElement(a.output,"span");b.innerHTML="&mdash;"}},{name:"heading",match:"^!{1,5}",terminator:"\\n",handler:function(a){var b=insertElement(a.output,"h"+a.matchLength);a.subWikify(b,this.terminator)}},{name:"monospacedByLine",match:"^\\{\\{\\{\\n",lookahead:"^\\{\\{\\{\\n((?:^[^\\n]*\\n)+?)(^\\}\\}\\}$\\n?)",handler:Wikifier.formatHelpers.monospacedByLineHelper},{name:"monospacedByLineForPlugin",match:"^//\\{\\{\\{\\n",lookahead:"^//\\{\\{\\{\\n\\n*((?:^[^\\n]*\\n)+?)(\\n*^//\\}\\}\\}$\\n?)",handler:Wikifier.formatHelpers.monospacedByLineHelper},{name:"wikifyCommentForPlugin",match:"^/\\*\\*\\*\\n",terminator:"^\\*\\*\\*/\\n",handler:function(a){a.subWikify(a.output,this.terminator)}},{name:"quoteByBlock",match:"^<<<\\n",terminator:"^<<<\\n",handler:function(a){var b=insertElement(a.output,"blockquote");a.subWikify(b,this.terminator)}},{name:"quoteByLine",match:"^>+",terminator:"\\n",element:"blockquote",handler:function(c){var e=new RegExp(this.match,"mg");var d=[c.output];var h=0;var b=c.matchLength;var g;do{if(b>h){for(g=h;g<b;g++){d.push(insertElement(d[d.length-1],this.element))}}else{if(b<h){for(g=h;g>b;g--){d.pop()}}}h=b;c.subWikify(d[d.length-1],this.terminator);insertElement(d[d.length-1],"br");e.lastIndex=c.nextMatch;var f=e.exec(c.source);var a=f&&f.index==c.nextMatch;if(a){b=f[0].length;c.nextMatch+=f[0].length}}while(a)}},{name:"list",match:"^(?:(?:\\*+)|(?:#+))",lookahead:"^(?:(\\*+)|(#+))",terminator:"\\n",outerElement:"ul",itemElement:"li",handler:function(k){var b=new RegExp(this.lookahead,"mg");k.nextMatch=k.matchStart;var f=[k.output];var l=null,c;var h=0,d;var m;do{b.lastIndex=k.nextMatch;var g=b.exec(k.source);var a=g&&g.index==k.nextMatch;if(a){if(g[1]){c="ul"}if(g[2]){c="ol"}d=g[0].length;k.nextMatch+=g[0].length;if(d>h){for(m=h;m<d;m++){f.push(insertElement(f[f.length-1],c))}}else{if(d<h){for(m=h;m>d;m--){f.pop()}}else{if(d==h&&c!=l){f.pop();f.push(insertElement(f[f.length-1],c))}}}h=d;l=c;var j=insertElement(f[f.length-1],"li");k.subWikify(j,this.terminator)}}while(a)}},{name:"prettyLink",match:"\\[\\[",lookahead:"\\[\\[([^\\|\\]]*?)(?:(\\]\\])|(\\|(.*?)\\]\\]))",terminator:"\\|",handler:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart&&c[2]){var d=Wikifier.createInternalLink(a.output,c[1]);a.outputText(d,a.nextMatch,a.nextMatch+c[1].length);a.nextMatch+=c[1].length+2}else{if(c&&c.index==a.matchStart&&c[3]){var f;if(tale.has(c[4])){f=Wikifier.createInternalLink(a.output,c[4])}else{f=Wikifier.createExternalLink(a.output,c[4])}a.outputText(f,a.nextMatch,a.nextMatch+c[1].length);a.nextMatch=c.index+c[0].length}}}},{name:"urlLink",match:"(?:http|https|mailto|ftp):[^\\s'\"]+(?:/|\\b)",handler:function(a){var b=Wikifier.createExternalLink(a.output,a.matchText);a.outputText(b,a.matchStart,a.nextMatch)}},{name:"image",match:"\\[(?:[<]{0,1})(?:[>]{0,1})[Ii][Mm][Gg]\\[",lookahead:"\\[([<]{0,1})([>]{0,1})[Ii][Mm][Gg]\\[(?:([^\\|\\]]+)\\|)?([^\\[\\]\\|]+)\\](?:\\[([^\\]]*)\\]?)?(\\])",handler:function(a){var c=new RegExp(this.lookahead,"mg");c.lastIndex=a.matchStart;var d=c.exec(a.source);if(d&&d.index==a.matchStart){var f=a.output;if(d[5]){if(tale.has(d[5])){f=Wikifier.createInternalLink(a.output,d[5])}else{f=Wikifier.createExternalLink(a.output,d[5])}}var b=insertElement(f,"img");if(d[1]){b.align="left"}else{if(d[2]){b.align="right"}}if(d[3]){b.title=d[3]}b.src=d[4];a.nextMatch=d.index+d[0].length}}},{name:"macro",match:"<<",lookahead:"<<([^>\\s]+)(?:\\s*)([^>]*)>>",handler:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart&&c[1]){var g=c[2].readMacroParams();a.nextMatch=c.index+c[0].length;try{var d=macros[c[1]];if(d&&d.handler){d.handler(a.output,c[1],g,a)}else{insertElement(a.output,"span",null,"marked","macro not found: "+c[1])}}catch(f){throwError(a.output,"Error executing macro "+c[1]+": "+f.toString())}}}},{name:"html",match:"<[Hh][Tt][Mm][Ll]>",lookahead:"<[Hh][Tt][Mm][Ll]>((?:.|\\n)*?)</[Hh][Tt][Mm][Ll]>",handler:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart){var d=insertElement(a.output,"span");d.innerHTML=c[1];a.nextMatch=c.index+c[0].length}}},{name:"commentByBlock",match:"/%",lookahead:"/%((?:.|\\n)*?)%/",handler:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart){a.nextMatch=c.index+c[0].length}}},{name:"boldByChar",match:"''",terminator:"''",element:"strong",handler:Wikifier.formatHelpers.charFormatHelper},{name:"strikeByChar",match:"==",terminator:"==",element:"strike",handler:Wikifier.formatHelpers.charFormatHelper},{name:"underlineByChar",match:"__",terminator:"__",element:"u",handler:Wikifier.formatHelpers.charFormatHelper},{name:"italicByChar",match:"//",terminator:"//",element:"em",handler:Wikifier.formatHelpers.charFormatHelper},{name:"subscriptByChar",match:"~~",terminator:"~~",element:"sub",handler:Wikifier.formatHelpers.charFormatHelper},{name:"superscriptByChar",match:"\\^\\^",terminator:"\\^\\^",element:"sup",handler:Wikifier.formatHelpers.charFormatHelper},{name:"monospacedByChar",match:"\\{\\{\\{",lookahead:"\\{\\{\\{((?:.|\\n)*?)\\}\\}\\}",handler:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart){var d=insertElement(a.output,"code",null,null,c[1]);a.nextMatch=c.index+c[0].length}}},{name:"styleByChar",match:"@@",terminator:"@@",lookahead:"(?:([^\\(@]+)\\(([^\\)]+)(?:\\):))|(?:([^:@]+):([^;]+);)",handler:function(a){var d=insertElement(a.output,"span",null,null,null);var c=Wikifier.formatHelpers.inlineCssHelper(a);if(c.length==0){d.className="marked"}else{for(var b=0;b<c.length;b++){d.style[c[b].style]=c[b].value}}a.subWikify(d,this.terminator)}},{name:"lineBreak",match:"\\n",handler:function(a){insertElement(a.output,"br")}}];Wikifier.textPrimitives={anyDigit:"[0-9]",anyNumberChar:"[0-9\\.E]",urlPattern:"(?:http|https|mailto|ftp):[^\\s'\"]+(?:/|\\b)"};Wikifier.createInternalLink=function(a,c){var b=insertElement(a,"a",c);b.href="javascript:void(0)";if(tale.has(c)){b.className="internalLink"}else{b.className="brokenLink"}b.onclick=function(){state.display(c,b)};if(a){a.appendChild(b)}return b};Wikifier.createExternalLink=function(a,b){var c=insertElement(a,"a");c.href=b;c.className="externalLink";c.target="_blank";if(a){a.appendChild(c)}return c};if(!((new RegExp("[\u0150\u0170]","g")).test("\u0150"))){Wikifier.textPrimitives.upperLetter="[A-Z\u00c0-\u00de]";Wikifier.textPrimitives.lowerLetter="[a-z\u00df-\u00ff_0-9\\-]";Wikifier.textPrimitives.anyLetter="[A-Za-z\u00c0-\u00de\u00df-\u00ff_0-9\\-]"}else{Wikifier.textPrimitives.upperLetter="[A-Z\u00c0-\u00de\u0150\u0170]";Wikifier.textPrimitives.lowerLetter="[a-z\u00df-\u00ff_0-9\\-\u0151\u0171]";Wikifier.textPrimitives.anyLetter="[A-Za-z\u00c0-\u00de\u00df-\u00ff_0-9\\-\u0150\u0170\u0151\u0171]"};
</script>
<style type="text/css">
body{background-color:#eee;color:#303030;font-family:Verdana,sans-serif;font-size:62.5%;margin:0;text-align:center;}h1,h2,h3{color:#000;font-weight:normal;text-align:center;}h1{font-size:4em;line-height:1.2em;margin-bottom:0;margin-top:1em;}h2{font-size:1.4em;font-style:italic;margin-top:1em;}h3{font-size:1.3em;margin-bottom:5em;margin-top:.8em;}.passage{background-color:#eee;font-size:1.3em;line-height:175%;margin-bottom:2em;}ul li{list-style-type:square;}.toolbar a{color:#999;text-decoration:none;}.toolbar a:hover{text-decoration:underline;color:#8ea6ff;}a.internalLink,a.externalLink{color:#4d6ad8;font-weight:bold;text-decoration:none;}a.internalLink:hover,a.externalLink:hover{text-decoration:underline;color:#8ea6ff;}a.brokenLink{background-color:red;color:black;}.title{color:#000;font:bold 1.4em Verdana,sans-serif;line-height:200%;}#footer{font-size:1.1em;font-style:italic;margin-top:5em;text-align:center;}#footer a.externalLink{border-bottom:1px solid #464646;color:#464646;font-weight:normal;}.marked{background-color:pink;margin-right:12px;}.disabled{color:#aaa;font-style:italic;}#floater{_position:absolute;_width:100px;background-color:#fff;border-left:1px solid #ddd;border-bottom:2px solid #aaa;font-size:1.1em;padding:0 20px;position:fixed;right:0;text-align:center;top:0;line-height:100%;}#floater a:link,#floater a:visited{color:#999;font-weight:bold;text-decoration:none;}#floater a:hover{color:#8ea6ff;text-decoration:underline;}#content1{margin:0 20em 1em 20em;text-align:left;}.toolbar{padding:0;visibility:hidden;font-size:.5em;}.toolbar a{margin-left:12px;}.selected .toolbar{visibility:visible;}.passage ul{margin-left:.5em;padding-left:1.5em;}.passage ol{margin-left:.5em;padding-left:1.5em;}.passage table{border-collapse:collapse;font-size:100%;margin:.8em 1.0em;}.passage th,.passage td,.passage tr,.passage caption{padding:3px;}.passage hr{height:1px;}#saveTest,.footer{display:none;}#messageArea{background-color:pink;display:none;font-weight:bold;text-align:center;}#storeArea,#copyright{display:none;}
</style>
</head>
<body onload="main()">
<div id="floater"><div class="container">
<div id="storyMenu"></div>
<p><a href="javascript:state.restart()">Restart Story</a></p>
</div></div>
<div id="content1"><div id="content2">
<div id="header"></div><div id="titleLine"></div>
<h1><span id="storyTitle"></span></h1>
<h2><span id="storySubtitle"></span></h2>
<h3><span id="storyAuthor"></span></h3>
<div id="passages"></div>
<p id="footer">
This story was created with <a class="externalLink" href="http://gimcrackd.com/etc/src/">Twee</a> and is powered by <a class="externalLink" href="http://www.tiddlywiki.com/">TiddlyWiki</a>.
</p>
</div></div>
<div id="storeArea">
<div tiddler="Go to the security check" tags="" modified="201208251746" created="201208251746" modifier="twee"> &lt;&lt;set $security = true&gt;&gt;\n\nMaybe your friend is waiting for you at security check? You have a long while before you have to catch the plane but he could have gone ahead after getting some food. He probably didn't expect you to stay in the foyer in the exact same spot he left you, even if he did say &quot;wait here&quot;.\n\nYou walk between various groups of people heading to the security check. One man bumps against your shoulder and hastily apologises, or sounds like he is apologising. You wave him away and continue walking.\n\nAnd your friend isn't at the security check. Where is he, really?\n\n&lt;&lt;choice 'Check the toilets'&gt;&gt;\n&lt;&lt;choice 'Go through security'&gt;&gt;\n&lt;&lt;if $entrance == true&gt;&gt;\n&lt;&lt;choice 'Go back to the terminal entrance'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the terminal entrance'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $food_court == true&gt;&gt;\n&lt;&lt;choice 'Go back to the food court'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the food court'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Run away" tags="" modified="201208262245" created="201208262245" modifier="twee">\n\nThe guards know what you're about to do before you even decide. They pin you down and beat you for good measure.\n\nYou're churned out by the court system in a quick trial and are thrown into jail with a life sentence.</div><div tiddler="Buy a drink" tags="" modified="201208252319" created="201208252319" modifier="twee"> &lt;&lt;set $drink = $drink + 1&gt;&gt;&lt;&lt;set $drink1 = true&gt;&gt;\n\nWaiting around makes you thirsty. The alluring colours of the drinks in the vending machine is enough to convince you to delay your search.\n\nYou fumble around in your pocket and pull out what you hope is enough change for a drink. Thankfully, the buttons are in English. With a small clunk, a drink rolls out.\n\nYou crack it open and take a drink.\n\nMan, that's good.\n\n&lt;&lt;choice 'Buy another'&gt;&gt;\n&lt;&lt;if $food_court == true&gt;&gt;\n&lt;&lt;choice 'Go back to the food court'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the food court'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $security == true&gt;&gt;\n&lt;&lt;choice 'Go back to the security check'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Go back to the food court" tags="" modified="201209171549" created="201209171549" modifier="twee">\n\nYou've established that your friend isn't at the food court, but that doesn't stop the conglomeration of scents reaching for you and dragging you back.\n\nYou rest your bags against a nearby pillar and take in the roar of people in the food court.\n\n&lt;&lt;if ($asian == true) or ($donalds == true)&gt;&gt;\n&lt;&lt;choice 'Get more food'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Get a meal'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $entrance == true&gt;&gt;\n&lt;&lt;choice 'Go back to the terminal entrance'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the terminal entrance'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $security == true&gt;&gt;\n&lt;&lt;choice 'Go back to the security check'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Author" tags="" modified="201209182145" created="201209182145" modifier="twee">\n----\n\nShaye is an online entity who whines, edits and experiments with Twine. She enjoys bad visual novels and one day hopes to write flavour text for sex toys.\n\n[[Twitter|https://twitter.com/shadocchi]]\n[[Blog|http://insistonplot.tumblr.com/]]</div><div tiddler="Get a meal" tags="" modified="201209242228" created="201209242228" modifier="twee">\n\nTo your right is a [[Starbucks]] with a line reaching around the corner. Next to that is [[McDonalds]], which is responsible for most of the heavy fried smell hanging in the food court.\n\nIn front of you, and sprawling on for most of the food court, is a selection of [[asian food]]. You can see the bright orange of some butter chicken amongst a selection of sushi and spring rolls.\n\n&lt;&lt;if $entrance == true&gt;&gt;\n&lt;&lt;choice 'Go back to the terminal entrance'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the terminal entrance'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $security == true&gt;&gt;\n&lt;&lt;choice 'Go back to the security check'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Run to the plane" tags="" modified="201209242019" created="201209242019" modifier="twee">\n\nThrough the haze of the drinks accelerating your movements, you manage to pull yourself away from violence and drop the blade.\n\nYou grip your bags and run past groups of people in mid-step, searching for the gate that leads to the flight home. You can feel your pulse slowing despite your ragged breaths but what you want — hell, what you //need// — is in clear sight now.\n\n''DEPARTURES''\n&lt;html&gt;&lt;blink&gt;HOME 175 BOARDING&lt;/blink&gt;&lt;/html&gt;\n\nYou slip past the last of the security guards and through the gate just as the effects of the drinks wear off. You stagger, almost falling, but catch yourself on the wall. The throbbing in your head dissipates and you stand as you wipe the cold sweat from your neck.\n\nAfter a while, the plane departs and you're able to go home, friendless but safe.\n\n''The End''</div><div tiddler="Buy another drink" tags="" modified="201209172338" created="201209172338" modifier="twee">\n\nYou've already had &lt;&lt;print $drink&gt;&gt;, but what the hell, these foreign drinks are pretty good. You nudge a few coins into the machine and out pops a fresh can.\n&lt;&lt;set $drink = $drink + 1&gt;&gt;\n//Shhhhlp//\n\nDamn that's good.\n\n&lt;&lt;if $drink lt 2&gt;&gt;\n&lt;&lt;choice 'Buy another'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;if $drink lt 3&gt;&gt;\n&lt;&lt;choice 'One more?'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'One last drink'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $food_court == true&gt;&gt;\n&lt;&lt;choice 'Go back to the food court'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the food court'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $security == true&gt;&gt;\n&lt;&lt;choice 'Go back to the security check'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Try to explain your situation" tags="" modified="201208262243" created="201208262243" modifier="twee">\n\nYou're well aware of the language barrier but you try to explain yourself anyway. You tell the guards that you don't know where those things came from and it's probably all a mistake. You ask for a translator but they seem preoccupied with what to do with you.\n\nIt's pretty clear where this all is heading.\n\n&lt;&lt;choice 'Wait'&gt;&gt;\n&lt;&lt;choice 'Run back to the foyer'&gt;&gt;</div><div tiddler="Start" tags="" modified="201208251657" created="201208251657" modifier="twee">  &lt;&lt;set $food_court = false&gt;&gt; &lt;&lt;set $seurity = false&gt;&gt; &lt;&lt;set $entrance = false&gt;&gt; &lt;&lt;set $coffee = false&gt;&gt;&lt;&lt;set $drink = 0&gt;&gt;&lt;&lt;set $dive = false&gt;&gt;&lt;&lt;set $asian = false&gt;&gt;&lt;&lt;set $donalds = false&gt;&gt;&lt;&lt;set $toilet = false&gt;&gt;\n\nYou're standing in the airport foyer, bags in hand. People rush around you, dragging their kids to the security check, looking suspicious with their hands in their pockets or running through the place like it's an amusement park.\n\nThe friend and guide who was supposed to translate for you left to get food but hasn't come back. You try to use your phrasebook but when you approach security guards, they can't understand you. When you approach everyone else, they look at you strangely and hurry away. It's not like you're in a rush — your flight is scheduled to leave in two hours — but being alone isn't that great.\n\nYou feel like a useless sign that nobody can read.\n\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;choice 'Go to the terminal entrance'&gt;&gt;\n&lt;&lt;choice 'Go to the food court'&gt;&gt;</div><div tiddler="Stylesheet" tags="stylesheet" modified="201208251727" created="201208251727" modifier="twee">.passage .title { display: none }</div><div tiddler="Go to the terminal entrance" tags="" modified="201208251746" created="201208251746" modifier="twee"> &lt;&lt;set $entrance = true&gt;&gt;\n\nThe airport entrance is a rush of cars and people. Taxis pull into the path to the airport while families pour out and run to catch their flight. Passersby complain about the parking prices or how the busses were late. There's a dull drone somewhere behind you — presumably the planes.\n\nThere are a few vending machines around but your friend doesn't seem to be anywhere.\n\n&lt;&lt;choice 'Buy a drink'&gt;&gt;\n&lt;&lt;if $security == true&gt;&gt;\n&lt;&lt;choice 'Go back to the security check'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $food_court == true&gt;&gt;\n&lt;&lt;choice 'Go back to the food court'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the food court'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n</div><div tiddler="Run back to the foyer" tags="" modified="201208262252" created="201208262252" modifier="twee">\n\nYou get a sudden spark of inspiration and run back to the foyer, hoping to whatever diety this country worships that you can solve all your problems on one small possibility.\n\nThe guards run after you, but you're able to stay just out of reach. You hope they don't have guns. Or at least choose not to shoot.\n\nThe foyer, as always, is full of people and it's a moment before you can take it all in. The guards are right behind you though, so you need to act quick.\n\n&lt;&lt;choice 'Tackle the man who bumped into you'&gt;&gt;\n&lt;&lt;choice 'Tackle the man who looks like your friend'&gt;&gt;</div><div tiddler="Go back to the terminal entrance" tags="" modified="201209172111" created="201209172111" modifier="twee">\n\nYou stand at the airport entrance, vending machines to your right, carpark to your left and a sprawling road packed with cars before you. People hurring into the airport are as abundant as ever.\n\n&lt;&lt;if $drink == 0&gt;&gt;\n&lt;&lt;choice 'Buy a drink'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Buy another drink'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $food_court == true&gt;&gt;\n&lt;&lt;choice 'Go back to the food court'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the food court'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $security == true&gt;&gt;\n&lt;&lt;choice 'Go back to the security check'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Buy another" tags="" modified="201208252328" created="201208252328" modifier="twee"> &lt;&lt;set $drink = $drink + 1&gt;&gt;&lt;&lt;set $drink2 = true&gt;&gt;\n\nActually, that drink was so good, you can't help but buy another. Was it the sugar content? The delicate mix of sweetness with the bitter aftertaste?\n\nWhatever it is, you gulp down a second can just as fast.\n\n&lt;&lt;choice 'One more?'&gt;&gt;\n&lt;&lt;if $food_court == true&gt;&gt;\n&lt;&lt;choice 'Go back to the food court'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the food court'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $security == true&gt;&gt;\n&lt;&lt;choice 'Go back to the security check'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Go through security" tags="" modified="201208252359" created="201208252359" modifier="twee">\n\nHe could be waiting over the other side. But gee, he could have just come back to get you. Look at all the trouble you're going through!\n\nYou place your bags on the conveyor belt and walk through the metal detector. You don't recall having any suspicious metal objects on you, and you were very careful to go through the country's custom laws before you arrived.\n\n''BEEP BEEP BEEP''\n\nThe metal detector sounds as you walk through. The security guard to your right speaks up, probably telling you to stop for a scan.\n\n&lt;&lt;choice 'Stop to be scanned'&gt;&gt;\n&lt;&lt;choice 'Run'&gt;&gt;</div><div tiddler="Stop to be scanned" tags="" modified="201208262132" created="201208262132" modifier="twee">\n\nYou have nothing to hide, so you stop so the guard can scan you. He passes the device over you and it beeps at your pocket.\n\nMust have forgotten something. Or maybe it's triggering on your jacket zipper?\n\nThe security guard raises his voice slightly and motions to the side, pointing at a desk. You put your hands on it as he searches your pocket and produces a switchblade and packet of white powder.\n\nHow in the...\n\nThe guard procedes to yell at you, but the volume of his voice doesn't help you understand any better. After a moment of inaction, he calls the other guards.\n\n&lt;&lt;choice 'Run away'&gt;&gt;\n&lt;&lt;choice 'Fight'&gt;&gt;\n&lt;&lt;choice 'Try to explain your situation'&gt;&gt;</div><div tiddler="One more?" tags="" modified="201208252335" created="201208252335" modifier="twee"> &lt;&lt;set $drink = $drink + 1&gt;&gt;&lt;&lt;set $drink3 = true&gt;&gt;\n\nReally, what's in this? You feel kind of addicted. And you're not even the addictive type.\n\nYou buy another one and drink it in one go. You crush the can against your head and toss it in the bin.\n\n&lt;&lt;choice 'One last drink'&gt;&gt;\n&lt;&lt;if $food_court == true&gt;&gt;\n&lt;&lt;choice 'Go back to the food court'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the food court'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $security == true&gt;&gt;\n&lt;&lt;choice 'Go back to the security check'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Run" tags="" modified="201208262132" created="201208262132" modifier="twee">\n\nYou're in a country that you think once sentenced a foreigner to death over reading a magazine on a bus. If you stop now, you're just handing yourself over.\n\nYou run like someone who just downed three shots of coffee.\n\nUnfortunately, your panicked face alerts security to your plans and you're pinned to the spot in a manner of seconds. They run a scanner over you and detect a knife in your pocket, along with a small bag of white powder.\n\nHoo boy.\n\nYou never get to find out how those came to be in your jacket pocket, but you get plenty of time to think about it in prison.</div><div tiddler="Check the toilets again" tags="" modified="201209241656" created="201209241656" modifier="twee">\n\nYou make your way into the toilets again, pushing past people forming a line outside the stalls. One glance at the line shows your friend is nowhere to be seen.\n\nYou yell his name and are met with murmurs and disapproving looks, but no answer. In the stall closest to you, someone farts, long, loud and wet. A few people back away from the smell.\n\n&lt;&lt;choice 'Go through security'&gt;&gt;\n&lt;&lt;if $entrance == true&gt;&gt;\n&lt;&lt;choice 'Go back to the terminal entrance'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the terminal entrance'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $food_court == true&gt;&gt;\n&lt;&lt;choice 'Go back to the food court'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the food court'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Search for your friend" tags="" modified="201209242057" created="201209242057" modifier="twee">\n\nWhile the last parts of your mind untouched by the accelerating power of the drinks demands you to escape home, there is a small part of you that thinks this can all be rectified by finding your friend. Now that the world has slowed, maybe you can find him in the crowd and demand he explain where the hell he has been.\n\nYou start from the foyer again and search the three main hubs. Each place yields no results and your search ends back at the security check.\n\nYour pulse thumps out three large beats before it starts to slow and the people around you speed up. The guard that was yelling at you before looks around in confusion but turns and spots you. He shouts something into the receiver on his shoulder. With a violent cracking noise, your legs give way.\n\n''GHAAAUGH''\n\nYou clutch at your shins but you can't hold in the pain. A trickle of blood coats your hands as you realise you've been taken down with rubber bullets. After the guards beat you into submission, you're dragged through the legal system and sentenced to ten years in jail for terrorism.\n\nHell, you never get to know what happened to your friend.</div><div tiddler="dive into the crowd" tags="" modified="201208251826" created="201208251826" modifier="twee"> &lt;&lt;set $dive = true&gt;&gt;\n\nYou're not exactly adverse to crowds but there sure are a lot of people to wade through and you can't even communicate with most of them. You keep an eye out for your friend while edging around tables and stepping over discarded wrappers. It's a mess of food, conversation and people.\n\nAfter a thorough search, you admit that your friend is nowhere in sight. He's probably somewhere else.\n\n&lt;&lt;if $security == true&gt;&gt;\n&lt;&lt;choice 'Go back to the security check'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $entrance == true&gt;&gt;\n&lt;&lt;choice 'Go back to the terminal entrance'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the terminal entrance'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Attributions" tags="" modified="201208251845" created="201208251845" modifier="twee">\n----\n\n''Special Thanks:''\n\nEven in Twine, I need help coding. Thanks to the following people for helping me fix small issues/helped with beta testing:\n\nAdam Rademacher [[@Offwhitefox|https://twitter.com/OffWhiteFox]]\n\nThyroid [[Tumblr|http://frightful.tumblr.com/]]\n\nVicky Bit [[Website|vickybit.com]]\n\n''Attributions:''\n\nThe images used in this game are available from [[The Noun Project|www.thenounproject.com/]]. Those that are not attribution-free or in the public domain are credited below.\n\n//Chinese Takeout Box//\nAnna Wang, from The Noun Project\n\n//Hamburger//\nPei-Wen Kwang, from The Noun Project\n\n//Cofee//\nCedric Cummings, from The Noun Project\n\n//Team//\nUmbra2 Design, from The Noun Project\n\n//Vending Machine//\nSoner Ertim, from The Noun Project\n\n//Dancer//\nSonkarlay Vaye, from The Noun Project\n\n//Hit//\nAndrey Gerasimov, from The Noun Project\n\n//Information//\nSven Hofmann, from The Noun Project\n\n//Bug//\nThe Noun Project\n\nAnd a thank you to the people behind [[Twine|http://gimcrackd.com/etc/src/]] for creating an IF program so simple that I could make something like this without bashing my head with a coding book.</div><div tiddler="Starbucks" tags="" modified="201208251837" created="201208251837" modifier="twee"> &lt;&lt;set $coffee = $coffee + 1&gt;&gt;\n\nDespite the line, you head over to Starbucks to get some much-needed coffee. It takes five minutes to get to the counter and you signal your order with wild hand gestures. Of course, every country speaks coffee and you walk away with a large cup of exactly what you ordered.\n\nNow you're properly equipped to &lt;&lt;choice 'dive into the crowd'&gt;&gt;.</div><div tiddler="Tackle the man who bumped into you" tags="" modified="201208262301" created="201208262301" modifier="twee">\n\nEven though it was just in-passing, you recognise the man that bumped into you on your way to the security check. When you think about it, he could have easily slipped the suspicious items into your pocket. You mentally slap yourself for not noticing sooner.\n\nYour desperate situation and general awkwardness when it comes to confrontation makes you tackle the man and bring him crashing to the floor. He squeals and squirms in an effort to get you off. You hold strong. The guards arrive to find you sitting on top of the bucking man.\n\nYour friend, who surfaced from somewhere in the direction of the food court, hurries over when he sees you. You get him to relay your situation to the guards and after much explanation, apologies and paperwork, you're free to catch your plane home.\n\nYou decide to never go on holidays again.\n\n''The End''</div><div tiddler="StoryTitle" tags="" modified="201208251658" created="201208251658" modifier="twee"></div><div tiddler="Wait" tags="" modified="201208262252" created="201208262252" modifier="twee">\n\nAs you predicted, the guards pay little attention to you and you're dragged through the legal system. You never get to know what happened to your friend—or your family for that matter— because now you are in jail.</div><div tiddler="Kill the guards" tags="" modified="201209242019" created="201209242019" modifier="twee">\n\nYou make swift use of your acceleration and, even with a small blade, manage to take down every guard in sight before the effects of the drinks wear off. As your pulse slows and people begin to speed up, the guards topple over and gurgle out a stream of blood.\n\nPeople quickly notice and you take advantage of the confusion to escape. Unfortunately, in all this excitement, you forget you're holding a bloodied switchblade and guards from other sections of the airport rush to take you down.\n\nThey don't hesitate to shoot you on the spot.</div><div tiddler="StoryMenu" tags="" modified="201209181905" created="201209181905" modifier="twee">[[Extra Info]]</div><div tiddler="Get more food" tags="" modified="201209172043" created="201209172043" modifier="twee">\n\nYour friend handled all the money since those notes with strange faces on them made you feel a bit uneasy, so you don't have much on you besides loose coins. It was enough to get one decent thing from the food court, but you don't think you could buy another without the cashier pointlessly explaining how much money you need, or shouting for security to behead you. You're never sure what people are saying here.\n\n&lt;&lt;if $entrance == true&gt;&gt;\n&lt;&lt;choice 'Go back to the terminal entrance'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the terminal entrance'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $security == true&gt;&gt;\n&lt;&lt;choice 'Go back to the security check'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Known bugs" tags="" modified="201209242259" created="201209242259" modifier="twee">\n----\n\nAs this game has nine different variables over three in-game locations and I'm no coder, the game has a few issues or infinite loops.\n\n*The Restart Story button at the top of the page doesn't work; you will have to refresh the page to play again (this is a Twine bug)\n\n*If you click a particular choice more than once (such as &quot;go back to the food court&quot;), it will create an infinite loop. There is no way out of this and, unfortunately, there are many choices like that.</div><div tiddler="get a meal" tags="" modified="201208251827" created="201208251827" modifier="twee">\n\nTo your right is a [[Starbucks]] with a line reaching around the corner. Next to that is [[McDonalds]], which is responsible for most of the heavy fried smell hanging in the food court.\n\nIn front of you, and sprawling on for most of the food court, is a selection of [[asian food]]. You can see the bright orange of some butter chicken amongst a selection of sushi and spring rolls.\n\nOf course, you could skip the queues and just &lt;&lt;choice 'dive into the crowd'&gt;&gt; to search for your friend.</div><div tiddler="Go to the food court" tags="" modified="201208251725" created="201208251725" modifier="twee"> &lt;&lt;set $food_court = true&gt;&gt;\n\nThe food court is even louder than the foyer. The fragrant mix of friend chicken, pastries, exotic sauces and coffe is near overwhelming.\n\nA quick scan of the court is like playing //Where's Wally//. While you're sure you can spot your friend in a crowd, you have to admit that the sheer number of people makes them all look like one large blob. After five minutes, you admit defeat: you can't find your friend without diving into the crowd.\n\nYou could use the time to &lt;&lt;choice 'get a meal'&gt;&gt; between flights or just &lt;&lt;choice 'dive into the crowd'&gt;&gt; and get this over with.</div><div tiddler="asian food" tags="" modified="201208251838" created="201208251838" modifier="twee">&lt;&lt;set $asian = true&gt;&gt;\n\nThe selection of asian cuisine is possibly the only substantial food here. You're hungry enough to devour one of everything but decide to limit yourself to some beef korma since you're not actually here for a meal.\n&lt;&lt;if $dive == true&gt;&gt;\n&lt;&lt;display&gt;&gt;\nAll that's left is for you to &lt;&lt;choice 'dive into the crowd'&gt;&gt;.\n&lt;&lt;else&gt;&gt;\n&lt;&lt;if $entrance == true&gt;&gt;\n&lt;&lt;choice 'Go back to the terminal entrance'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the terminal entrance'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $security == true&gt;&gt;\n&lt;&lt;choice 'Go back to the security check'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the security check'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="McDonalds" tags="" modified="201208251838" created="201208251838" modifier="twee">&lt;&lt;set $donalds = true&gt;&gt;\n\nYou give in to the greasy call of a burger and chips with a coke. There's nothing like the heart-stopping goodness of a Big Mac to get you through a long day.\n\nNow that your hands and stomach are full, you can &lt;&lt;choice 'dive into the crowd'&gt;&gt;.</div><div tiddler="Fight" tags="" modified="201209241914" created="201209241914" modifier="twee">\n&lt;&lt;if $drink gte 3&gt;&gt;\n&lt;&lt;display &quot;Victory&quot;&gt;&gt;\n&lt;&lt;else&gt;&gt;\n\nYou're in a country that you think once sentenced a foreigner to death over reading a magazine on a bus. If you stop now, you're just handing yourself over.\n\nYou make a desperate grab for the switchblade, the only real weapon in sight. The knife flicks out with ease and you brandish it at the guard, yelling &quot;stay back&quot; in imitation of his language.\n\nThe guard takes a few steps back and it appears you have something to bargain with until some kind of explosion sounds from behind you and a force pushes your head forward. The switchblade clatters across the tiles as you fall.\n\nYou barely feel how cold the floor is before you close your eyes and submit to death.\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Go back to the security check" tags="" modified="201209182254" created="201209182254" modifier="twee">\n\nYou haul your luggage back to the security check and are met with a few curious glances. When you pull out your phrasebook, a number of people make soft sounds of realisation and their look changes to pity.\n\nYour friend wasn't here before and he sure isn't here now.\n\n&lt;&lt;choice 'Go through security'&gt;&gt;\n&lt;&lt;if $toilet == true&gt;&gt;\n&lt;&lt;choice 'Check the toilets again'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Check the toilets'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $entrance == true&gt;&gt;\n&lt;&lt;choice 'Go back to the terminal entrance'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the terminal entrance'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $food_court == true&gt;&gt;\n&lt;&lt;choice 'Go back to the food court'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the food court'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Check the toilets" tags="" modified="201208252358" created="201208252358" modifier="twee">&lt;&lt;set $toilet = true&gt;&gt;\n\nYou barge into the nearby toilets, a little frustrated that your friend hasn't spared you the thought of coming back. You yell his name a few times and, waiting long enough with no reply, decide that he isn't here either.\n\nBummer.\n\n&lt;&lt;choice 'Go through security'&gt;&gt;\n&lt;&lt;if $food_court == true&gt;&gt;\n&lt;&lt;choice 'Go back to the food court'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the food court'&gt;&gt;\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $entrance == true&gt;&gt;\n&lt;&lt;choice 'Go back to the terminal entrance'&gt;&gt;\n&lt;&lt;else&gt;&gt;\n&lt;&lt;choice 'Go to the terminal entrance'&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Walkthrough" tags="" modified="201209182131" created="201209182131" modifier="twee">\n----\n\nReaching the end of this game is more navigating your way through a maze of choices rather than solving puzzles using items or making choices in a correct order.\n\nTo finish this game with the least choices, choose:\n\n&gt;Go to the security check\n&gt;Go through security\n&gt;Stop to be scanned\n&gt;Try to explain your situation\n&gt;Run back to the foyer\n&gt;Tackle the man who bumped into you\n\nTo finish this game in the most interesting way, choose:\n\n&gt;Go to the terminal entrance\n&gt;Buy a drink\n&gt;Buy another\n&gt;One more?\n&gt;Go to the security check\n&gt;Go through security\n&gt;Stop to be scanned\n&gt;Fight\n&gt;Run to the plane\n\nThis game includes 6 dead ends and 3 alternatives to the end. Dead ends are marked with the skull icon while ends are marked with ''The End'' at the bottom. Each are as valid as the other, but tackling the man who bumped into you is the one I planned from the start.</div><div tiddler="Extra Info" tags="" modified="201209211727" created="201209211727" modifier="twee">\n----\n\n[[Walkthrough]]\n[[Known bugs]]\n[[About the Author|Author]]\n[[Attributions]]\n</div><div tiddler="Tackle the man who looks like your friend" tags="" modified="201208262302" created="201208262302" modifier="twee">\n\nIf anyone can help you with this situation, it's your friend. You decide that the man blowing on some noodles while walking into the foyer looks remarkably like him.\n\nYou tackle the man and send his noodles flying.\n\nAs you scramble on the floor, your actual friend walks over and politely asks what the hell you're doing. You gibber something about the law after you and it all being a mistake and please explain to these men that you are not a drug lord or a trafficker and you just want to go home and never leave again you are very sorry.\n\nAfter much explaining, apologising, paperwork and a brief court process, you are free to go home. After 25 years, your daughter brings out a photo of your holiday and you yell something about how she should always go with her friends if they're getting food. Then you send her to her room.\n\n''The End''</div><div tiddler="One last drink" tags="" modified="201208252337" created="201208252337" modifier="twee">\n\nYou buy one more can and check the label. The writing is completely foreign, but there doesn't seem to be any warning labels or alcohol content indicator. You pin it down to one of those exotic drinks that hook you with how sweet it is.\n\nAnd then you realise you've had more cans of this thing in the span of five minutes than any human should. You feel your heart flutter and you're about to take your pulse when you collapse.\n\nWhen the ambulance arrives, you barely hear them say that you've ingested 8 standard cups of cofee and enough sugar to make you diabetic.\n\nAfter your death, the company that produces the drink is shut down. It's a shame you couldn't see it though.</div><div tiddler="Victory" tags="" modified="201209241936" created="201209241936" modifier="twee">\nThe world slows and you feel something — a power awakening? — spread from the back of your head. Sounds begin to draw out, almost into silence, as the guard moves in slow motion. Your pulse beats hard against your skull, your vision blurs and clears in time with it. Your grab for the switchblade is unimpeded by sound, sight or even time itself.\n\nThe blade springs out with a small delay and you realise that the &lt;&lt;print $drink&gt;&gt; drinks you had at the terminal entrance might be kicking in, accelerating your actions. You figure you only have a few minutes to do something in this state before your body burns away all the sugar and caffeine.\n\n&lt;&lt;choice 'Kill the guards'&gt;&gt;\n&lt;&lt;choice 'Search for your friend'&gt;&gt;\n&lt;&lt;choice 'Run to the plane'&gt;&gt;</div></div></body></html>